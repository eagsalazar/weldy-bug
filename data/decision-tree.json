{
  "metadata": {
    "version": "1.0",
    "description": "MIG welding with C25 gas - troubleshooting based on weld bead appearance",
    "process": "MIG (GMAW)",
    "shielding_gas": "C25 (75% Argon, 25% CO2)"
  },
  "startNode": "initial_appearance",
  "nodes": {
    "initial_appearance": {
      "type": "image-question",
      "question": "What does your weld bead look like? Choose the closest match.",
      "choices": [
        {
          "id": "porosity",
          "text": "Holes or pits in the weld",
          "image": "resources/images/porosity.jpg",
          "description": "Small to large holes, pinholes, or crater-like pits visible in the weld",
          "nextNode": "porosity_location"
        },
        {
          "id": "excessive_spatter",
          "text": "Lots of spatter around the weld",
          "image": "resources/images/excessive_spatter.jpg",
          "description": "Many small metal balls stuck to base metal around the bead",
          "nextNode": "spatter_sound_check"
        },
        {
          "id": "undercut",
          "text": "Groove/notch at weld edges",
          "image": "resources/images/undercut.jpg",
          "description": "Valley or groove where weld meets base metal",
          "nextNode": "undercut_diagnosis"
        },
        {
          "id": "cold_lap",
          "text": "Weld rolled over, not fused",
          "image": "resources/images/cold_lap.jpg",
          "description": "Weld metal sitting on top without melting into base metal",
          "nextNode": "cold_lap_diagnosis"
        },
        {
          "id": "burn_through",
          "text": "Burned hole through the metal",
          "image": "resources/images/burn_through.jpg",
          "description": "Complete hole melted through workpiece",
          "nextNode": "burn_through_diagnosis"
        },
        {
          "id": "too_convex",
          "text": "Bead too tall/rounded/humped",
          "image": "resources/images/convex_bead.jpg",
          "description": "Excessive buildup, very rounded on top",
          "nextNode": "convex_diagnosis"
        },
        {
          "id": "too_concave",
          "text": "Bead sunken or concave",
          "image": "resources/images/concave_bead.jpg",
          "description": "Weld surface dished or sunken",
          "nextNode": "concave_width_check"
        },
        {
          "id": "inconsistent",
          "text": "Width varies along the weld",
          "image": "resources/images/inconsistent_width.jpg",
          "description": "Bead is wider in some places, narrower in others",
          "nextNode": "inconsistent_diagnosis"
        },
        {
          "id": "rough_ripples",
          "text": "Rough, messy ripple pattern",
          "image": "resources/images/rough_surface.jpg",
          "description": "Uneven, irregular waves or very messy texture",
          "nextNode": "rough_surface_diagnosis"
        },
        {
          "id": "cracking",
          "text": "Cracks in or near the weld",
          "image": "resources/images/cracks.jpg",
          "description": "Linear splits or fractures visible",
          "nextNode": "crack_timing"
        },
        {
          "id": "good_weld",
          "text": "Looks pretty good!",
          "image": "resources/images/good_weld.jpg",
          "description": "Consistent width, nice even ripples, good tie-in",
          "nextNode": "success"
        }
      ]
    },
    "porosity_location": {
      "type": "text-question",
      "question": "Where do you see the holes?",
      "choices": [
        {
          "id": "start_end_only",
          "text": "Only at start and end of weld",
          "nextNode": "porosity_start_end"
        },
        {
          "id": "throughout",
          "text": "Throughout the entire weld",
          "nextNode": "porosity_throughout"
        },
        {
          "id": "when_windy",
          "text": "Only happens when it's breezy",
          "nextNode": "porosity_wind"
        }
      ]
    },
    "porosity_start_end": {
      "type": "diagnosis",
      "diagnosis": "Porosity at Start/End - Insufficient Gas Flow Time",
      "description": "Gas shielding needs time to establish and dissipate. Without proper pre/post-flow, atmospheric contamination occurs at weld ends.",
      "recommendations": [
        {
          "parameter": "gas_flow",
          "adjustment": "Enable pre-flow and post-flow",
          "details": "Set pre-flow to 1-2 seconds, post-flow to 3-5 seconds. If your machine doesn't have these settings, pull trigger 1-2 seconds before touching work, hold 3-5 seconds after release."
        },
        {
          "parameter": "gas_flow",
          "adjustment": "Verify flow rate: 15-20 CFH",
          "details": "Check your flowmeter reads 15-20 CFH. Too low = insufficient coverage. Too high (>25 CFH) = turbulence."
        }
      ]
    },
    "porosity_throughout": {
      "type": "text-question",
      "question": "Is your base metal clean and free of contaminants?",
      "choices": [
        {
          "id": "yes_clean",
          "text": "Yes, cleaned it thoroughly",
          "nextNode": "porosity_gas_problem"
        },
        {
          "id": "has_rust_oil",
          "text": "No, has rust, oil, mill scale, or paint",
          "nextNode": "porosity_contamination"
        }
      ]
    },
    "porosity_contamination": {
      "type": "diagnosis",
      "diagnosis": "Porosity - Surface Contamination",
      "description": "Contaminants (rust, oil, paint, mill scale, moisture) vaporize during welding and get trapped as gas pockets in the solidifying weld.",
      "recommendations": [
        {
          "parameter": "surface_prep",
          "adjustment": "Clean base metal thoroughly",
          "details": "Remove ALL rust, oil, paint, grease, and mill scale. Wire brush, grind, or use solvent. Clean at least 1 inch on each side of joint. Wipe with acetone if oily."
        },
        {
          "parameter": "surface_prep",
          "adjustment": "Ensure metal is completely dry",
          "details": "Moisture creates hydrogen porosity. Material must be completely dry before welding."
        },
        {
          "parameter": "surface_prep",
          "adjustment": "Remove galvanizing completely",
          "details": "If welding galvanized steel, grind zinc coating off completely. Zinc vapor causes severe porosity (and is toxic)."
        }
      ]
    },
    "porosity_gas_problem": {
      "type": "diagnosis",
      "diagnosis": "Porosity - Gas Shielding Issue",
      "description": "Insufficient or contaminated shielding gas allows atmospheric oxygen and nitrogen to contaminate the weld puddle.",
      "recommendations": [
        {
          "parameter": "gas_flow",
          "adjustment": "Set flow to 15-20 CFH",
          "details": "Use flowmeter to set 15-20 CFH. Too low allows air contamination. Too high creates turbulence that pulls in air."
        },
        {
          "parameter": "equipment",
          "adjustment": "Check gas cylinder pressure",
          "details": "Verify cylinder has adequate pressure (200+ PSI). Check for leaks at all hose connections and fittings."
        },
        {
          "parameter": "equipment",
          "adjustment": "Verify correct gas (C25)",
          "details": "Confirm you're using C25 (75/25 Argon/CO2) or 100% CO2. Wrong gas causes porosity."
        },
        {
          "parameter": "stick_out",
          "adjustment": "Reduce to 3/8 inch",
          "details": "Keep wire stick-out at 3/8 inch. Excessive stick-out reduces gas coverage of the puddle."
        }
      ]
    },
    "porosity_wind": {
      "type": "diagnosis",
      "diagnosis": "Porosity - Wind Disrupting Shielding Gas",
      "description": "Air currents blow away the protective gas cloud, allowing atmospheric contamination.",
      "recommendations": [
        {
          "parameter": "environment",
          "adjustment": "Add wind protection",
          "details": "Use welding screens or barriers to block air currents. Even HVAC vents, fans, or open doors can disrupt gas coverage."
        },
        {
          "parameter": "gas_flow",
          "adjustment": "Increase slightly to 20-22 CFH",
          "details": "Increase flow rate modestly, but not above 25 CFH or you'll create turbulence."
        }
      ]
    },
    "spatter_sound_check": {
      "type": "text-question",
      "question": "What does the arc sound like?",
      "choices": [
        {
          "id": "popping_stuttering",
          "text": "Popping, stuttering, or crackling",
          "nextNode": "spatter_voltage_low"
        },
        {
          "id": "loud_hissing",
          "text": "Loud hissing or harsh sound",
          "nextNode": "spatter_voltage_high"
        },
        {
          "id": "sounds_ok",
          "text": "Sounds fairly smooth/normal",
          "nextNode": "spatter_technique"
        }
      ]
    },
    "spatter_voltage_low": {
      "type": "diagnosis",
      "diagnosis": "Excessive Spatter - Voltage Too Low",
      "description": "Voltage too low for your wire feed speed creates a stubbing, popping arc that throws spatter.",
      "recommendations": [
        {
          "parameter": "voltage",
          "adjustment": "Increase by 1-2 volts",
          "details": "Increase voltage by 1-2 volts at a time until you hear a smooth bacon-frying sound instead of popping."
        },
        {
          "parameter": "wire_feed_speed",
          "adjustment": "Or decrease slightly if voltage maxed",
          "details": "If you can't increase voltage more, try reducing wire feed speed by 10-20 IPM to match available voltage."
        }
      ]
    },
    "spatter_voltage_high": {
      "type": "diagnosis",
      "diagnosis": "Excessive Spatter - Voltage Too High or Wire Feed Too Low",
      "description": "Too much voltage relative to wire feed creates an overly fluid, violent puddle that throws spatter.",
      "recommendations": [
        {
          "parameter": "voltage",
          "adjustment": "Decrease by 1-2 volts",
          "details": "Reduce voltage by 1-2 volts to calm the arc."
        },
        {
          "parameter": "wire_feed_speed",
          "adjustment": "Or increase wire feed speed",
          "details": "Alternatively, increase wire feed speed by 10-20 IPM to match the voltage level."
        }
      ]
    },
    "spatter_technique": {
      "type": "diagnosis",
      "diagnosis": "Excessive Spatter - Technique or Stick-out Issue",
      "description": "Arc sounds good but producing spatter. Likely stick-out distance or gun angle problem.",
      "recommendations": [
        {
          "parameter": "stick_out",
          "adjustment": "Maintain 3/8 inch stick-out",
          "details": "Keep wire stick-out at 3/8 inch. Too much or too little increases spatter."
        },
        {
          "parameter": "technique",
          "adjustment": "Check work angle (10-15째)",
          "details": "Keep gun at 10-15 degree push or drag angle. Too steep creates spatter. Stay closer to perpendicular."
        },
        {
          "parameter": "travel_speed",
          "adjustment": "Keep steady speed",
          "details": "Inconsistent travel speed can cause spatter. Maintain smooth, steady motion."
        }
      ]
    },
    "undercut_diagnosis": {
      "type": "diagnosis",
      "diagnosis": "Undercut - Excessive Heat or Travel Speed Too Fast",
      "description": "Base metal is melting faster than filler metal can fill the groove, creating a notch at the weld toes.",
      "recommendations": [
        {
          "parameter": "voltage",
          "adjustment": "Reduce by 1-2 volts",
          "details": "Lower voltage to reduce heat input. Too much heat melts base metal excessively."
        },
        {
          "parameter": "travel_speed",
          "adjustment": "Slow down",
          "details": "Reduce travel speed to give the puddle time to fill the toes before moving forward."
        },
        {
          "parameter": "wire_feed_speed",
          "adjustment": "Increase slightly",
          "details": "Increase wire feed by 10-20 IPM to deposit more filler material into the groove."
        },
        {
          "parameter": "technique",
          "adjustment": "Pause at edges if weaving",
          "details": "If using a weave pattern, pause momentarily at each edge to let puddle fill the toes. Also verify 45째 work angle on fillets."
        }
      ]
    },
    "cold_lap_diagnosis": {
      "type": "diagnosis",
      "diagnosis": "Cold Lap/Overlap - Insufficient Heat or Penetration",
      "description": "Weld metal is rolling onto the base metal without actually fusing/melting into it. Not enough heat or poor technique.",
      "recommendations": [
        {
          "parameter": "voltage",
          "adjustment": "Increase by 1-2 volts",
          "details": "Increase voltage to add more heat for proper fusion into base metal."
        },
        {
          "parameter": "wire_feed_speed",
          "adjustment": "May need slight reduction",
          "details": "If running very hot wire feed, reduce by 10-20 IPM to let heat penetrate rather than just piling on filler."
        },
        {
          "parameter": "travel_speed",
          "adjustment": "Slow down",
          "details": "Slow down to give more time for heat to penetrate and melt the base metal."
        },
        {
          "parameter": "technique",
          "adjustment": "Adjust work angle",
          "details": "Direct more heat into the base metal. For horizontal fillet welds, angle gun slightly upward. Check you're holding 45째 on fillet welds."
        },
        {
          "parameter": "surface_prep",
          "adjustment": "Clean base metal",
          "details": "Mill scale, rust, and oil prevent fusion. Wire brush or grind base metal clean."
        }
      ]
    },
    "burn_through_diagnosis": {
      "type": "diagnosis",
      "diagnosis": "Burn-Through - Excessive Heat",
      "description": "Too much heat input is melting completely through the material. Voltage or wire feed too high, or travel speed too slow.",
      "recommendations": [
        {
          "parameter": "voltage",
          "adjustment": "Decrease significantly",
          "details": "Reduce voltage by 2-3 volts. You're running too hot for the material thickness. Especially critical on thin material (< 1/8 inch)."
        },
        {
          "parameter": "wire_feed_speed",
          "adjustment": "Decrease",
          "details": "Lower wire feed speed by 20-30 IPM to reduce heat input and deposition rate."
        },
        {
          "parameter": "travel_speed",
          "adjustment": "Move faster",
          "details": "Increase travel speed to reduce heat input per inch. Don't dwell in one spot."
        },
        {
          "parameter": "technique",
          "adjustment": "Use stitch welding on thin material",
          "details": "On very thin material (< 16 gauge), use skip/stitch welding: weld 1/2 inch, skip 1 inch, repeat to manage heat. Fill gaps on second pass."
        },
        {
          "parameter": "technique",
          "adjustment": "Check joint fit-up",
          "details": "Excessive gaps (> 1/16 inch) make burn-through easier. Add more tack welds to minimize gaps."
        }
      ]
    },
    "convex_diagnosis": {
      "type": "diagnosis",
      "diagnosis": "Excessive Convexity - Too Much Filler Deposited",
      "description": "Too much filler metal being deposited (wire feed too high or travel speed too slow), creating excessive buildup.",
      "recommendations": [
        {
          "parameter": "wire_feed_speed",
          "adjustment": "Decrease by 20-30 IPM",
          "details": "Reduce wire feed speed to deposit less filler material."
        },
        {
          "parameter": "travel_speed",
          "adjustment": "Move faster",
          "details": "Increase travel speed to deposit less material per inch of weld."
        },
        {
          "parameter": "voltage",
          "adjustment": "Increase slightly (1 volt)",
          "details": "Slightly higher voltage helps flatten the puddle. But don't overdo it."
        },
        {
          "parameter": "technique",
          "adjustment": "Use slight weave",
          "details": "Use a slight side-to-side weave to spread material wider rather than piling it high."
        }
      ]
    },
    "concave_width_check": {
      "type": "text-question",
      "question": "Is the weld also narrow?",
      "choices": [
        {
          "id": "narrow_and_sunken",
          "text": "Yes, narrow and sunken",
          "nextNode": "concave_insufficient_filler"
        },
        {
          "id": "wide_but_sunken",
          "text": "No, normal width but sunken",
          "nextNode": "concave_excessive_heat"
        }
      ]
    },
    "concave_insufficient_filler": {
      "type": "diagnosis",
      "diagnosis": "Concave Bead - Insufficient Filler Metal",
      "description": "Not enough filler material being deposited. Wire feed too low or travel speed too fast.",
      "recommendations": [
        {
          "parameter": "wire_feed_speed",
          "adjustment": "Increase by 20-30 IPM",
          "details": "Increase wire feed speed to deposit more filler material."
        },
        {
          "parameter": "travel_speed",
          "adjustment": "Slow down",
          "details": "Reduce travel speed to deposit more filler per inch of weld."
        },
        {
          "parameter": "voltage",
          "adjustment": "May need slight reduction",
          "details": "If voltage is relatively high, reduce by 1 volt to create less fluid puddle that doesn't spread as wide."
        }
      ]
    },
    "concave_excessive_heat": {
      "type": "diagnosis",
      "diagnosis": "Concave Bead - Excessive Heat Sinking Weld",
      "description": "Too much heat is melting the weld below the surface. Voltage too high or travel speed too slow.",
      "recommendations": [
        {
          "parameter": "voltage",
          "adjustment": "Decrease by 1-2 volts",
          "details": "Reduce voltage to lower heat input."
        },
        {
          "parameter": "travel_speed",
          "adjustment": "Move faster",
          "details": "Increase travel speed to reduce heat input per inch."
        },
        {
          "parameter": "wire_feed_speed",
          "adjustment": "Increase to fill depression",
          "details": "Increase wire feed by 10-20 IPM to add more filler material to fill the sunken area."
        }
      ]
    },
    "inconsistent_diagnosis": {
      "type": "diagnosis",
      "diagnosis": "Inconsistent Bead Width - Travel Speed Variation",
      "description": "Inconsistent travel speed creates uneven bead width. Wide where you slow down, narrow where you speed up.",
      "recommendations": [
        {
          "parameter": "technique",
          "adjustment": "Practice steady travel speed",
          "details": "Maintain constant, smooth travel speed. Practice the motion without welding first."
        },
        {
          "parameter": "technique",
          "adjustment": "Brace your hands/arms",
          "details": "Stabilize your hands and arms. Move your whole body, not just your wrist. This helps maintain consistent speed."
        },
        {
          "parameter": "technique",
          "adjustment": "Position body comfortably",
          "details": "Start in a comfortable position you can maintain throughout the entire weld. Don't start in an awkward position that forces you to adjust mid-weld."
        },
        {
          "parameter": "technique",
          "adjustment": "Maintain consistent arc length",
          "details": "Keep gun at consistent distance from work. Varying arc length also creates inconsistent results."
        }
      ]
    },
    "rough_surface_diagnosis": {
      "type": "diagnosis",
      "diagnosis": "Rough Surface - Inconsistent Technique or Unstable Arc",
      "description": "Irregular ripples and rough texture from inconsistent travel speed, varying arc length, or unstable arc.",
      "recommendations": [
        {
          "parameter": "technique",
          "adjustment": "Keep steady travel speed",
          "details": "Maintain smooth, consistent travel speed. Speeding up and slowing down creates irregular ripples."
        },
        {
          "parameter": "technique",
          "adjustment": "Maintain consistent arc length/stick-out",
          "details": "Keep consistent 3/8 inch stick-out. Moving gun up and down creates inconsistent heating and rough appearance."
        },
        {
          "parameter": "equipment",
          "adjustment": "Check work clamp connection",
          "details": "Ensure work clamp has solid connection to clean metal. Poor ground causes arc instability and rough bead."
        },
        {
          "parameter": "voltage",
          "adjustment": "Verify voltage/wire feed balance",
          "details": "Severely mismatched voltage and wire feed creates unstable arc. Listen for steady bacon-frying sound, not erratic popping."
        },
        {
          "parameter": "surface_prep",
          "adjustment": "Clean base metal",
          "details": "Arc wanders and becomes unstable on contaminated surfaces. Wire brush or grind clean."
        }
      ]
    },
    "crack_timing": {
      "type": "text-question",
      "question": "When did the cracks appear?",
      "choices": [
        {
          "id": "while_welding",
          "text": "While welding or immediately after",
          "nextNode": "hot_crack_diagnosis"
        },
        {
          "id": "after_cooling",
          "text": "After cooling down (minutes to hours later)",
          "nextNode": "cold_crack_diagnosis"
        }
      ]
    },
    "hot_crack_diagnosis": {
      "type": "diagnosis",
      "diagnosis": "Hot Cracking - Excessive Heat or Highly Restrained Joint",
      "description": "Cracks forming during or immediately after welding are hot cracks, typically from too much heat or excessive joint restraint.",
      "recommendations": [
        {
          "parameter": "voltage",
          "adjustment": "Reduce by 2-3 volts",
          "details": "Lower heat input reduces hot cracking tendency. Excessive heat increases crack susceptibility."
        },
        {
          "parameter": "technique",
          "adjustment": "Avoid stopping mid-weld",
          "details": "Don't stop and restart in middle of joint if possible. Crater cracks are common at stop/start points. If you must stop, fill the crater before moving on."
        },
        {
          "parameter": "technique",
          "adjustment": "Reduce joint restraint",
          "details": "Overly restrained joints (too many clamps, rigid fixtures) can't contract as they cool, causing cracks. Minimize restraint where possible."
        },
        {
          "parameter": "technique",
          "adjustment": "Check base metal compatibility",
          "details": "Some steels (high carbon, certain alloys) are crack-sensitive. May need preheat or specific filler wire. Verify material specs."
        }
      ]
    },
    "cold_crack_diagnosis": {
      "type": "diagnosis",
      "diagnosis": "Cold Cracking - Hydrogen Contamination or Residual Stress",
      "description": "Delayed cracking after cooling indicates hydrogen-induced cracking or excessive residual stress.",
      "recommendations": [
        {
          "parameter": "surface_prep",
          "adjustment": "Eliminate ALL moisture",
          "details": "Moisture is the primary hydrogen source. Base metal must be completely dry. Wipe with solvent and allow to dry fully before welding."
        },
        {
          "parameter": "technique",
          "adjustment": "Preheat material (especially thick sections)",
          "details": "Preheat to 150-300째F before welding, especially on thick material (> 1/4 inch) or high-carbon steel. Slows cooling rate and allows hydrogen to escape."
        },
        {
          "parameter": "technique",
          "adjustment": "Allow slow cooling",
          "details": "Let weld cool slowly. Cover with insulation blanket to prevent rapid cooling. Fast cooling traps hydrogen and creates stress."
        },
        {
          "parameter": "technique",
          "adjustment": "Reduce restraint after welding",
          "details": "Remove clamps or reduce restraint after welding to allow natural contraction. Excessive restraint creates residual stress leading to cracks."
        },
        {
          "parameter": "surface_prep",
          "adjustment": "Remove all rust and mill scale",
          "details": "Rust traps moisture which introduces hydrogen. Grind to clean, shiny metal before welding."
        }
      ]
    },
    "success": {
      "type": "diagnosis",
      "diagnosis": "Good Weld!",
      "description": "Your weld looks good! Consistent width, nice ripples, good fusion. Keep practicing to build consistency.",
      "recommendations": [
        {
          "parameter": "practice",
          "adjustment": "Keep going and document settings",
          "details": "Great work! Document your current voltage, wire feed speed, and stick-out distance for future reference. Continue practicing to build muscle memory."
        }
      ]
    }
  }
}
